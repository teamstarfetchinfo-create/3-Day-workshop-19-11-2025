#include <AFMotor.h>
#include <SoftwareSerial.h>

SoftwareSerial btserial(10, 11); // RX, TX

// Define motors connected to M1 and M2 (or whichever ports youâ€™re using)
AF_DCMotor motor1(1);  // Motor 1 on M1
AF_DCMotor motor2(2);  // Motor 2 on M2

char val;

void setup() {
  Serial.begin(9600);
  btserial.begin(9600);

  Serial.println("Ready To Connect");

  // Set initial motor speeds
  motor1.setSpeed(200);  // range: 0 - 255
  motor2.setSpeed(200);
}

void loop() {
  while (btserial.available()) {
    val = btserial.read();
    Serial.println(val);

    switch (val) {
      case 'F':  // Forward
        Serial.println("Forward");
        motor1.run(FORWARD);
        motor2.run(FORWARD);
        break;

      case 'B':  // Backward
        Serial.println("Backward");
        motor1.run(BACKWARD);
        motor2.run(BACKWARD);
        break;

      case 'L':  // Left turn
        Serial.println("Turn Left");
        motor1.run(BACKWARD);
        motor2.run(FORWARD);
        break;

      case 'R':  // Right turn
        Serial.println("Turn Right");
        motor1.run(FORWARD);
        motor2.run(BACKWARD);
        break;

      case 'S':  // Stop
        Serial.println("Stop");
        motor1.run(RELEASE);
        motor2.run(RELEASE);
        break;

      case 'I':  // Forward Right
        Serial.println("Forward Right");
        motor1.setSpeed(255); // right motor high
        motor2.setSpeed(120); // left motor slow
        motor1.run(FORWARD);
        motor2.run(FORWARD);
        break;

      case 'J':  // Backward Right
        Serial.println("Backward Right");
        motor1.setSpeed(255);
        motor2.setSpeed(120);
        motor1.run(BACKWARD);
        motor2.run(BACKWARD);
        break;

      case 'G':  // Forward Left
        Serial.println("Forward Left");
        motor1.setSpeed(120);
        motor2.setSpeed(255);
        motor1.run(FORWARD);
        motor2.run(FORWARD);
        break;

      case 'H':  // Backward Left
        Serial.println("Backward Left");
        motor1.setSpeed(120);
        motor2.setSpeed(255);
        motor1.run(BACKWARD);
        motor2.run(BACKWARD);
        break;

      default:
        // Ignore unrecognized commands
        break;
    }
  }
}


// Arduino bluewooth carcode
